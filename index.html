<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hacking minigame</title>
    <link rel="icon" type="image/png" href="favicon-32x32.png" />

    <!-- load font -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet" />

    <!-- measure page views -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7E64QM2WXT"></script>

    <!-- flag icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.5/css/flag-icons.min.css" integrity="sha512-UwbBNAFoECXUPeDhlKR3zzWU3j8ddKIQQsDOsKhXQGdiB5i3IHEXr9kXx82+gaHigbNKbTDp3VY/G6gZqva6ZQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- local css and js -->
    <link rel="stylesheet" href="style.css" />
    <script type="module" src="src/script.js" defer></script>
</head>
<body>
    <div class="bg">
        <div class="center screen-square">
            <!-- 1) Loading screen -->
            <div class="center text-container" id="text-container">
                <img src="assets/spy-icon.png" class="spy-icon" />
                <h3 class="loading-text" id="loading-text">
                    <span class="capital">E</span>STABLISHING CONNECTION
                </h3>
            </div>

            <!-- 2) Square grid -->
            <div class="number-container hidden" id="number-container"></div>

            <!-- 3) Answer input section -->
            <div class="answer-section hidden">
                <div class="answer-countdown">
                    <div class="answer-progress-bar"></div>
                </div>
                <div class="answer-question"></div>
                <div class="answer-box">
                    <div class="answer-box-description">Answer</div>
                    <div class="answer-input-area">
                        <img src="assets/spy-icon.png" class="answer-input-icon" />
                        <input class="answer-input" id="answer-placeholder" placeholder="blue square" />
                    </div>
                </div>
            </div>

            <!-- 4) Try again screen -->
            <div class="try-again hidden">
                <button id="try-again-button">Try again</button><br /><br />
                <div class="try-again-hint" style="padding-top: 10px;">
                    <span id="submitted-reveal"></span>
                    <span id="answer-was">the answer was:</span>
                    "<span id="answer-reveal"></span>"
                </div><br />
                <div class="try-again-hint" id="to_fast">
                    Too fast? Practice by changing the puzzle time!
                </div>
            </div>
        </div>

        <!-- 5) Controls -->
        <div class="speed-control">
            <input type="range" id="speed-control" name="speed-control" min="10" max="10" value="10" disabled />
            <label class="speed-label" for="speed-control">
                Puzzle time: <span class="time-display">10</span>
            </label>
        </div>
        <div class="puzzle-control">
            <input type="range" id="puzzle-control" name="puzzle-control" min="8" max="8" value="8" disabled />
            <label class="puzzle-label" for="puzzle-control">
                Puzzle Amount: <span class="puzzle-display">8</span>
            </label>
        </div>

        <!-- 6) Language dropdown, help, GitHub, credits -->
        <div class="dropdown">
            <button id="language-toggle" class="flag-dropdown dropbtn">
                <span class="flag-selected-display flag-icon-gb"></span> v
            </button>
            <div id="language-list" class="dropdown-content"></div>
        </div>

        <button id="help-on" class="question-button">?</button>
        <a href="https://github.com/LCRPLBD/NoPixel-minigame">
            <button class="github-link">GitHub</button>
        </a>
        <div class="credits">Jesper Hustad (aka. Snacksy)</div>
    </div>

    <!-- 7) Help overlay -->
    <div id="overlay">
        <div id="text">
            <h1>Hack minigame explained</h1>
            <hr />
            <p>
                This is a logical reasoning test where you need to quickly connect the words, colors, and shapes.
                <br /><br />
                You will be given the numbers one to eight in a random order,
                then you have ten seconds to answer two questions.
                <br /><br />
                <img class="tutorial-image" src="assets/tutorial/numbers.jpg" /><br /><br />
                See here how the numbers are connected to the images giving us the answer square orange.
                <br /><br />
                <img class="tutorial-image" src="assets/tutorial/puzzle.jpg" />
            </p>
            <h2>Tip:</h2>
            Using the slider is disabled; time and puzzle amount are fixed for a consistent challenge.
        </div>
    </div>

    <!-- 8) Page view counter -->
    <script>window.goatcounter = {path: function(p) { return 'nopixel-minigame' + p }}</script>
    <script data-goatcounter="https://jesper-hustad.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>
